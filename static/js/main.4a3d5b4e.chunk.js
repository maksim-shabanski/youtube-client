(window["webpackJsonpyoutube-client"]=window["webpackJsonpyoutube-client"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),s=a(1),o=a.n(s),l=a(13),d=a(4),u=a(5),h=a(6),p=a(7),m=a(14),v=a(11),f=a(15),S=a(3),g=a(2),b=a.n(g),y=(a(22),function(e){var t=e.as,a=e.className,n=e.variant,i=e.color,c=e.disabled,s=Object(S.a)(e,["as","className","variant","color","disabled"]),o=n?"".concat(n,"-").concat(i):i,l=b()(a,"btn","".concat("btn","--").concat(o));return c&&(s.disabled=c,s.tabIndex=-1,s["aria-disabled"]=!0),r.a.createElement(t,Object.assign({className:l},s))});y.defaultProps={as:"button",type:null,className:null,variant:null,color:"primary",disabled:!1},y.displayName="Button";var w=y,O=(a(23),function(e){var t=e.searchText,a=e.onChange,n=e.onSubmit;return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"search__form",onSubmit:n},r.a.createElement("input",{className:"search__input",type:"text",value:t,onChange:a,placeholder:"Type keywords to find video"}),r.a.createElement(w,{className:"search__btn",type:"submit",color:"grey"},"Find")))});O.defaultProps={onChange:function(){},onSubmit:function(){}};var E=O,k=(a(24),function(e){var t=e.as,a=e.variant,n=e.children,i=b()("alert",a&&"".concat("alert","--").concat(a));return r.a.createElement(t,{className:i},n)});k.defaultProps={as:"div",variant:null},k.displayName="Alert";var C=k,D=(a(25),function(e){var t=e.as,a=e.variant,n="".concat("spinner","__figure"),i=b()(n,"".concat(n,"--").concat(a)),c=r.a.createElement("span",{className:i});return"bounce"===a&&(c=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:i}),r.a.createElement("span",{className:i}),r.a.createElement("span",{className:i}))),r.a.createElement(t,{className:"spinner"},c)});D.defaultProps={as:"div"},D.displayName="Spinner";var x=D,j=a(8),_=a.n(j),N=a(12),T=a.n(N),P=function(e){if(e/1e6>=1){var t=(e/1e6).toFixed(2);return t.endsWith("0")&&(t=t.slice(0,-1)),"".concat(t,"M")}return e/1e3>=1?"".concat(Math.floor(e/1e3),"K"):e};a(26);_.a.extend(T.a);var M="https://www.youtube.com/watch?v=",A=function(e){var t=e.videoData,a=t.id,n=t.snippet,i=t.statistics,c=n.channelId,s=n.channelTitle,o=n.publishedAt,l=n.title,d=n.description,u=n.thumbnails.high.url,h=i.viewCount,p=d.replace(/[\n\t]/g,"");return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("a",{href:"".concat(M).concat(a)},r.a.createElement("img",{className:"card__img",src:u,alt:""}))),r.a.createElement("div",{className:"card__body"},r.a.createElement("div",{className:"card__author"},r.a.createElement("a",{href:"".concat("https://www.youtube.com/channel/").concat(c),className:"card__author-link"},s)),r.a.createElement("h2",{className:"card__title"},r.a.createElement("a",{href:"".concat(M).concat(a),className:"card__title-link",title:l},l)),r.a.createElement("div",{className:"card__metadata"},r.a.createElement("span",{className:"card__views"},P(h)," views"),r.a.createElement("time",{className:"card__date",dateTime:o},_()().to(o))),r.a.createElement("div",{className:"card__desc"},r.a.createElement("p",null,p||"No description")),r.a.createElement(w,{href:"".concat(M).concat(a),as:"a",variant:"outlined",color:"red"},"Watch video")))},R=500,z=310,V=(a(27),r.a.forwardRef((function(e,t){var a=e.videosDataMap,n=e.selectedSlide,i=e.totalSlides,c=e.isExistMoreSlides,s=e.totalCardsOnSlide,o=e.onControlClick,l=Object(S.a)(e,["videosDataMap","selectedSlide","totalSlides","isExistMoreSlides","totalCardsOnSlide","onControlClick"]),d=[],u=a.size*z,h=(n-1)*z*s,p={width:"".concat(u,"px"),transform:"translate3d(-".concat(h,"px, 0, 0)")},m=1===n,v=n===i,f="Next";return c&&n===i&&(f=r.a.createElement(x,{variant:"bounce",as:"span"})),a.forEach((function(e,t){var a=r.a.createElement(A,{key:t,videoData:e});d.push(a)})),r.a.createElement("div",{className:"slider"},r.a.createElement("div",Object.assign({className:"slider__content"},l),r.a.createElement("div",{ref:t,className:"slider__track",style:p},d)),r.a.createElement("div",{className:"slider__controls"},r.a.createElement(w,{type:"button",className:"slider__btn",color:"grey","data-direction":"prev",disabled:m,onClick:o},"Prev"),r.a.createElement("span",{className:"slider__current-page"},n),r.a.createElement(w,{type:"button",className:"slider__btn",color:"grey","data-direction":"next",disabled:v,onClick:o},f)))})));V.defaultProps={selectedSlide:1,totalSlides:1,totalCardsOnSlide:1,isExistMoreSlides:!0,onControlClick:function(){}},V.displayName="Slider";var W=V;function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"fetchExtendedVideosData",value:function(){var t=Object(d.a)(o.a.mark((function t(a){var n,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.buildUrlQueryString({typeResource:"videos",part:"snippet,statistics",id:a.join(",")}),t.next=3,fetch(n);case 3:return r=t.sent,i=r.json(),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchBasicVideosData",value:function(){var t=Object(d.a)(o.a.mark((function t(a,n,r){var i,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.buildUrlQueryString(L({typeResource:"search",type:"video",part:"snippet",q:a,maxResults:r},n&&{pageToken:n})),t.next=3,fetch(i);case 3:return c=t.sent,s=c.json(),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"buildUrlQueryString",value:function(e){var t=e.typeResource,a=Object(S.a)(e,["typeResource"]),n="".concat("https://www.googleapis.com/youtube/v3","/").concat(t,"?key=").concat("AIzaSyCa9jR_UScpOg4BAgwC2kdjc9U1dZh1kkY");return Object.keys(a).forEach((function(e){n+="&".concat(e,"=").concat(a[e])})),n}}]),e}();a(28);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",alert:{text:"You haven't searched anything yet.",variant:null},isLoadingData:!1,showSpinner:!1,maxVideoResults:24,pageToken:"",selectedSlide:1,totalCardsOnSlide:t.getTotalCardsOnSlide(),numberFirstCardOnSelectedSlide:1,isSliderAnimated:!1,mouseStartPoint:null,videosDataMap:new Map},a.sliderTrack=r.a.createRef(),a.handleResizeWindow=function(){var e=a.state,n=e.totalCardsOnSlide,r=e.numberFirstCardOnSelectedSlide,i=t.getTotalCardsOnSlide();if(n===i)return!1;var c=Math.ceil(r/i);return a.setState({selectedSlide:c,totalCardsOnSlide:i}),!0},a.handleSearchTextChange=function(e){var t=e.target.value;a.setState({searchText:t})},a.handleSubmitForm=function(e){return e.preventDefault(),""!==a.state.searchText&&(a.setState({selectedSlide:1,numberFirstCardOnSelectedSlide:1,videosDataMap:new Map,pageToken:"",alert:{text:null,variant:null},showSpinner:!0,isLoadingData:!0},(function(){a.getVideosData()})),!0)},a.handleControlBtnClick=function(e){var t=e.currentTarget.dataset.direction;return!!a.canChangeSlide(t)&&(a.handleSlideChange(t),!0)},a.handleDragStart=function(e){var t=a.state.isSliderAnimated,n=e.touches?e.touches[0].clientX:e.clientX;e.touches||e.preventDefault(),t||a.setState({mouseStartPoint:n})},a.handleDrag=function(e){var n=a.state,r=n.selectedSlide,i=n.totalCardsOnSlide,c=n.mouseStartPoint,s=e.touches?e.touches[0].clientX:e.clientX;if(!c)return!1;var o=t.getDirection(c,s);if(!o)return!1;var l=Math.abs(c-s),d=(r-1)*z*i,u="next"===o?d+l:d-l,h=a.sliderTrack.current;return h.style.transitionDuration="0ms",h.style.transform="translate3d(-".concat(u,"px, 0, 0)"),!0},a.handleDragEnd=function(e){var n=a.state.mouseStartPoint;if(!n)return!1;var r=e.changedTouches?e.changedTouches[0].clientX:e.clientX,i=t.getDirection(n,r);return i&&a.canChangeSlide(i)?(a.sliderTrack.current.style.transitionDuration="".concat(R,"ms"),a.handleSlideChange(i),!0):(a.setState({mouseStartPoint:null}),!1)},a.handleSliderClick=function(e){a.state.isSliderAnimated&&e.preventDefault()},a.handleSlideChange=function(e){var t=!1,n=a.state,r=n.totalCardsOnSlide,i=n.selectedSlide,c="next"===e?i+1:i-1,s=(c-1)*r+1;!n.isLoadingData&&a.isNeedToLoadCards(c)&&(a.getVideosData(),t=!0),a.setState(X({},t&&{isLoadingData:!0},{isSliderAnimated:!0,selectedSlide:c,numberFirstCardOnSelectedSlide:s,mouseStartPoint:null}),(function(){a.updateSliderAnimatedState()}))},a.getVideosData=Object(d.a)(o.a.mark((function e(){var t,n,r,i,c,s,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.videosDataMap,r=new Map(Object(l.a)(n)),e.prev=2,i=[],e.next=6,a.getBasicVideosData();case 6:if(c=e.sent,s=c.nextPageToken,d=void 0===s?"":s,c.items.forEach((function(e){var t=e.id.videoId;r.has(t)||i.push(t)})),0!==i.length){e.next=11;break}return e.abrupt("return",!1);case 11:return e.next=13,F.fetchExtendedVideosData(i);case 13:u=e.sent,u.items.forEach((function(e){r.set(e.id,e)})),t=r.size>0?{pageToken:d,videosDataMap:r}:{alert:{variant:"warning",text:"We are so sorry! We couldn't find any video for your request."}},e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),r.size||(t={alert:{variant:"warning",text:"Something was wrong! Check your network connection and try searching again."}});case 22:return a.setState(X({},t,{showSpinner:!1,isLoadingData:!1})),e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,null,[[2,19]])}))),a.getBasicVideosData=Object(d.a)(o.a.mark((function e(){var t,n,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.searchText,r=t.pageToken,i=t.maxVideoResults,e.next=3,F.fetchBasicVideosData(n,r,i);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),a.updateSliderAnimatedState=function(){window.setTimeout((function(){a.setState({isSliderAnimated:!1})}),R)},a.canChangeSlide=function(e){var t=a.state,n=t.selectedSlide,r=t.isSliderAnimated,i=a.getTotalSlides();return!r&&(("prev"!==e||1!==n)&&("next"!==e||i!==n))},a.isNeedToLoadCards=function(e){var t=a.state.pageToken,n=a.getTotalSlides();return!!t&&!(e<=n-3)},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResizeWindow)}},{key:"getTotalSlides",value:function(){var e=this.state,t=e.videosDataMap,a=e.totalCardsOnSlide;return Math.ceil(t.size/a)}},{key:"render",value:function(){var e=this.state,t=e.pageToken,a=e.searchText,n=e.alert,i=e.showSpinner,c=e.videosDataMap,s=e.selectedSlide,o=e.totalCardsOnSlide,l=n.variant,d=n.text,u=this.getTotalSlides(),h=""!==t;return r.a.createElement("main",{className:"wrapper"},r.a.createElement(E,{searchText:a,onChange:this.handleSearchTextChange,onSubmit:this.handleSubmitForm}),0!==c.size&&r.a.createElement(W,{ref:this.sliderTrack,videosDataMap:c,selectedSlide:s,totalSlides:u,isExistMoreSlides:h,totalCardsOnSlide:o,onControlClick:this.handleControlBtnClick,onClick:this.handleSliderClick,onMouseDown:this.handleDragStart,onMouseMove:this.handleDrag,onMouseUp:this.handleDragEnd,onMouseLeave:this.handleDragEnd,onTouchStart:this.handleDragStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleDragEnd}),d&&r.a.createElement(C,{variant:l},d),i&&r.a.createElement(x,{variant:"circle"}))}}],[{key:"getTotalCardsOnSlide",value:function(){var e=window.innerWidth;return e>=1280?4:e>=940&&e<1280?3:e>=640&&e<940?2:1}},{key:"getDirection",value:function(e,t){var a=e-t;if(0!==a){var n="next";return a<0&&(n="prev"),n}}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(29);c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[16,1,2]]]);
//# sourceMappingURL=main.4a3d5b4e.chunk.js.map