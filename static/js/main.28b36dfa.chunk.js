(window["webpackJsonpyoutube-client"]=window["webpackJsonpyoutube-client"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=a(1),s=a.n(c),l=a(3),d=a(4),u=a(5),h=a(13),m=a(10),v=a(14),p=a(6),f=a(2),S=a.n(f),g=(a(21),function(e){var t=e.as,a=e.className,n=e.variant,o=e.color,i=e.disabled,c=Object(p.a)(e,["as","className","variant","color","disabled"]),s=n?"".concat(n,"-").concat(o):o,l=S()(a,"btn","".concat("btn","--").concat(s));return i&&(c.disabled=i,c.tabIndex=-1,c["aria-disabled"]=!0),r.a.createElement(t,Object.assign({className:l},c))});g.defaultProps={as:"button",type:null,className:null,variant:null,color:"primary",disabled:!1},g.displayName="Button";var w=g,b=(a(22),function(e){var t=e.searchText,a=e.onChange,n=e.onSubmit;return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"search__form",onSubmit:n},r.a.createElement("input",{className:"search__input",type:"text",value:t,onChange:a,placeholder:"Type keywords to find video"}),r.a.createElement(w,{className:"search__btn",type:"submit",color:"grey"},"Find")))});b.defaultProps={onChange:function(){},onSubmit:function(){}};var y=b,E=(a(23),function(e){var t=e.as,a=e.variant,n=e.children,o=S()("alert",a&&"".concat("alert","--").concat(a));return r.a.createElement(t,{className:o},n)});E.defaultProps={as:"div",variant:null},E.displayName="Alert";var T=E,O=(a(24),function(e){var t=e.as,a=e.variant,n="".concat("spinner","__figure"),o=S()(n,"".concat(n,"--").concat(a)),i=r.a.createElement("span",{className:o});return"bounce"===a&&(i=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:o}),r.a.createElement("span",{className:o}),r.a.createElement("span",{className:o}))),r.a.createElement(t,{className:"spinner"},i)});O.defaultProps={as:"div"},O.displayName="Spinner";var k=O,C=a(7),x=a.n(C),M=a(11),N=a.n(M),_=function(e){if(e/1e6>=1){var t=(e/1e6).toFixed(2);return t.endsWith("0")&&(t=t.slice(0,-1)),"".concat(t,"M")}return e/1e3>=1?"".concat(Math.floor(e/1e3),"K"):e};a(25);x.a.extend(N.a);var D="https://www.youtube.com/watch?v=",j=function(e){var t=e.videoData,a=t.id,n=t.snippet,o=t.statistics,i=n.channelId,c=n.channelTitle,s=n.publishedAt,l=n.title,d=n.description,u=n.thumbnails.high.url,h=o.viewCount,m=d.replace(/[\n\t]/g,"");return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("a",{href:"".concat(D).concat(a)},r.a.createElement("img",{className:"card__img",src:u,alt:""}))),r.a.createElement("div",{className:"card__body"},r.a.createElement("div",{className:"card__author"},r.a.createElement("a",{href:"".concat("https://www.youtube.com/channel/").concat(i),className:"card__author-link"},c)),r.a.createElement("h2",{className:"card__title"},r.a.createElement("a",{href:"".concat(D).concat(a),className:"card__title-link",title:l},l)),r.a.createElement("div",{className:"card__metadata"},r.a.createElement("span",{className:"card__views"},_(h)," views"),r.a.createElement("time",{className:"card__date",dateTime:s},x()().to(s))),r.a.createElement("div",{className:"card__desc"},r.a.createElement("p",null,m||"No description")),r.a.createElement(w,{href:"".concat(D).concat(a),as:"a",variant:"outlined",color:"red"},"Watch video")))},P=500,A=(a(26),function(e){var t=e.videosData,a=e.selectedSlide,n=e.totalSlides,o=e.isExistMoreSlides,i=e.totalCardsOnSlide,c=e.onClick,s=e.onMouseDown,l=e.onMouseMove,d=e.onMouseUp,u=e.onTouchStart,h=e.onTouchMove,m=e.onTouchEnd,v=310*t.length,p=310*(a-1)*i,f={width:"".concat(v,"px"),transitionDuration:"".concat(P,"ms"),transform:"translate3d(-".concat(p,"px, 0, 0)")},S=1===a,g=a===n,b="Next";return o&&a===n&&(b=r.a.createElement(k,{variant:"bounce",as:"span"})),r.a.createElement("div",{className:"slider"},r.a.createElement("div",{role:"presentation",className:"slider__content",onMouseDown:s,onMouseMove:l,onMouseUp:d,onTouchStart:u,onTouchMove:h,onTouchEnd:m},r.a.createElement("div",{className:"slider__track",style:f},t.map((function(e){return r.a.createElement(j,{key:e.id,videoData:e})})))),r.a.createElement("div",{className:"slider__controls"},r.a.createElement(w,{type:"button",className:"slider__btn",color:"grey","data-direction":"prev",disabled:S,onClick:c},"Prev"),r.a.createElement("span",{className:"slider__current-page"},a),r.a.createElement(w,{type:"button",className:"slider__btn",color:"grey","data-direction":"next",disabled:g,onClick:c},b)))});A.defaultProps={selectedSlide:1,totalSlides:1,totalCardsOnSlide:1,isExistMoreSlides:!0,onClick:function(){},onMouseDown:function(){},onMouseMove:function(){},onMouseUp:function(){},onTouchStart:function(){},onTouchMove:function(){},onTouchEnd:function(){}};var V=A,W=a(12);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(W.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"fetchVideosData",value:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.buildUrlQueryString({typeResource:"videos",part:"snippet,statistics",id:a.join(",")}),t.next=3,fetch(n);case 3:return r=t.sent,o=r.json(),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchVideosId",value:function(){var t=Object(l.a)(s.a.mark((function t(a,n,r){var o,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.buildUrlQueryString(L({typeResource:"search",type:"video",part:"id",q:a,maxResults:r},n&&{pageToken:n})),t.next=3,fetch(o);case 3:return i=t.sent,c=i.json(),t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"buildUrlQueryString",value:function(e){var t=e.typeResource,a=Object(p.a)(e,["typeResource"]),n="".concat("https://www.googleapis.com/youtube/v3","/").concat(t,"?").concat("key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y");return Object.keys(a).forEach((function(e){n+="&".concat(e,"=").concat(a[e])})),n}}]),e}(),U=(a(27),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",alert:{text:"You haven't searched anything yet.",variant:null},isLoading:!1,maxVideoResults:16,pageToken:"",selectedSlide:1,totalCardsOnSlide:t.getTotalCardsOnSlide(),numberFirstCardOnSelectedSlide:1,isSliderAnimated:!1,mousePointsX:{start:null,end:null},videosData:[]},a.handleResizeWindow=function(){var e=a.state,n=e.totalCardsOnSlide,r=e.numberFirstCardOnSelectedSlide,o=t.getTotalCardsOnSlide();if(n===o)return!1;var i=Math.ceil(r/o);return a.setState({selectedSlide:i,totalCardsOnSlide:o}),!0},a.handleSearchTextChange=function(e){var t=e.target.value;a.setState({searchText:t})},a.handleSubmitForm=function(e){return e.preventDefault(),""!==a.state.searchText&&(a.setState({selectedSlide:1,videosData:[],pageToken:"",alert:{text:null,variant:null},isLoading:!0},(function(){a.getVideosData()})),!0)},a.handleControlBtnClick=function(e){var t=e.currentTarget.dataset.direction;return!!a.canChangeSlide(t)&&(a.handleSlideChange(t),!0)},a.handleMouseDown=function(e){var t=e.clientX;a.handleSwipeStart(t)},a.handleTouchStart=function(e){var t=e.touches[0].clientX;a.handleSwipeStart(t)},a.handleMouseMove=function(e){var t=e.clientX;a.handleSwipeMove(t)},a.handleTouchMove=function(e){var t=e.touches[0].clientX;a.handleSwipeMove(t)},a.handleSwipeStart=function(e){a.updateMousePointsState(e,null)},a.handleSwipeMove=function(e){var t=a.state.mousePointsX.start;return!!t&&(a.updateMousePointsState(t,e),!0)},a.handleSwipeEnd=function(){var e=a.getSwipeDirection();if(!e)return!1;var t="next";return"right"===e&&(t="prev"),!!a.canChangeSlide(t)&&(a.handleSlideChange(t),a.updateMousePointsState(null,null),!0)},a.handleSlideChange=function(e){var t=a.state.totalCardsOnSlide,n=a.state.selectedSlide;"next"===e?n+=1:n-=1;var r=(n-1)*t+1;a.setState({selectedSlide:n,numberFirstCardOnSelectedSlide:r,isSliderAnimated:!0},(function(){a.isNeedToLoadCards()&&a.getVideosData(),a.updateSliderAnimatedState()}))},a.getVideosData=Object(l.a)(s.a.mark((function e(){var t,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.videosData,e.prev=1,e.next=4,a.getVideosId();case 4:return n=e.sent,e.next=7,I.fetchVideosData(n);case 7:r=e.sent,0===(o=r.items).length?a.updateAlertState({variant:"warning",text:"We are so sorry! We couldn't find any video for your request."}):a.updateVideosDataState(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.length||a.updateAlertState({variant:"warning",text:"Something was wrong! Check your network connection and try searching again."});case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),a.getVideosId=Object(l.a)(s.a.mark((function e(){var t,n,r,o,i,c,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.searchText,r=t.pageToken,o=t.maxVideoResults,e.next=3,I.fetchVideosId(n,r,o);case 3:return i=e.sent,c=i.nextPageToken,l=void 0===c?"":c,d=i.items,u=d.map((function(e){return e.id.videoId})),a.setState({pageToken:l}),e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)}))),a.updateSliderAnimatedState=function(){var e=a.state.isSliderAnimated;window.setTimeout((function(){a.setState({isSliderAnimated:!e})}),P)},a.updateAlertState=function(e){a.setState({alert:e,isLoading:!1})},a.updateVideosDataState=function(e){var t=a.state.videosData;a.setState({isLoading:!1,videosData:t.concat(e)})},a.updateMousePointsState=function(e,t){a.setState({mousePointsX:{start:e,end:t}})},a.canChangeSlide=function(e){var t=a.state,n=t.selectedSlide,r=t.isSliderAnimated,o=a.getTotalSlides();return!r&&(("prev"!==e||1!==n)&&("next"!==e||o!==n))},a.isNeedToLoadCards=function(){var e=a.state,t=e.pageToken,n=e.selectedSlide,r=a.getTotalSlides();return!!t&&!(n<=r-3)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResizeWindow)}},{key:"getTotalSlides",value:function(){var e=this.state,t=e.videosData,a=e.totalCardsOnSlide;return Math.ceil(t.length/a)}},{key:"getSwipeDirection",value:function(){var e=this.state.mousePointsX,t=e.start,a=e.end;if(!t||!a)return!1;var n=t-a;if(0===n)return!1;var r="left";return n<0&&(r="right"),r}},{key:"render",value:function(){var e=this.state,t=e.pageToken,a=e.searchText,n=e.alert,o=e.isLoading,i=e.videosData,c=e.selectedSlide,s=e.totalCardsOnSlide,l=n.variant,d=n.text,u=this.getTotalSlides(),h=""!==t;return r.a.createElement("main",{className:"wrapper"},r.a.createElement(y,{searchText:a,onChange:this.handleSearchTextChange,onSubmit:this.handleSubmitForm}),0!==i.length&&r.a.createElement(V,{videosData:i,selectedSlide:c,totalSlides:u,isExistMoreSlides:h,totalCardsOnSlide:s,onClick:this.handleControlBtnClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleSwipeEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleSwipeEnd}),d&&r.a.createElement(T,{variant:l},d),o&&r.a.createElement(k,{variant:"circle"}))}}],[{key:"getTotalCardsOnSlide",value:function(){var e=window.innerWidth;return e>=1280?4:e>=940&&e<1280?3:e>=640&&e<940?2:1}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(28);i.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.28b36dfa.chunk.js.map