(window["webpackJsonpyoutube-client"]=window["webpackJsonpyoutube-client"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(24)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=n(1),s=n.n(c),l=n(2),u=n(3),d=n(4),h=n(8),m=n(7),v=n(9),f=(n(16),function(e){var t=e.variant,n=e.children,a=t?"btn--".concat(t):"";return r.a.createElement("button",{className:"btn ".concat(a).trim()},n)});f.defaultTypes={variant:"",children:""};var p=f,w=(n(17),function(e){var t=e.searchText,n=e.onChange,a=e.onSubmit;return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"search__form",onSubmit:a},r.a.createElement("input",{className:"search__input",type:"text",value:t,onChange:n,placeholder:"Type keywords to find video",autoFocus:!0}),r.a.createElement(p,{variant:"grey"},"Find")))});w.defaultProp={searchText:"",onChange:function(){},onSubmit:function(){}};var S=w,g=(n(18),function(e){var t=e.variant,n=e.text,a=t?"alert--".concat(t):"";return r.a.createElement("div",{className:"alert ".concat(a).trim()},n)});g.defaultProp={variant:""};var y=g,x=(n(19),function(){return r.a.createElement("div",{className:"loader"})}),b=function(e){if(e/1e6>=1){var t=(e/1e6).toFixed(2);return t.endsWith("0")&&(t=t.slice(0,-1)),t+"M"}return e/1e3>=1?Math.floor(e/1e3)+"K":e},E=(n(20),"https://www.youtube.com/watch?v="),T=function(e){var t=e.data,n=t.id,a=t.snippet,i=t.statistics,o=a.channelId,c=a.channelTitle,s=a.publishedAt,l=a.title,u=a.description,d=a.thumbnails.high.url,h=i.viewCount,m=new Date(s).toDateString().slice(4);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("a",{href:"".concat(E).concat(n)},r.a.createElement("img",{className:"card__img",src:d,alt:""}))),r.a.createElement("div",{className:"card__content"},r.a.createElement("div",{className:"card__details"},r.a.createElement("header",{className:"card__heading"},r.a.createElement("span",{className:"card__author"},"Channel by ",r.a.createElement("a",{href:"".concat("https://www.youtube.com/channel/").concat(o)},c)),r.a.createElement("h2",{className:"card__title"},r.a.createElement("a",{href:"".concat(E).concat(n)},l))),r.a.createElement("p",{className:"card__desc"},r.a.createElement("time",{className:"card__date",dateTime:s},m)," ",r.a.createElement("br",null),u)),r.a.createElement("footer",{className:"card__footer"},r.a.createElement("a",{className:"btn",href:"".concat(E).concat(n)},"Watch video"),r.a.createElement("span",{className:"card__views"},b(h)," views"))))},C=500,k=(n(21),function(e){var t=e.videosData,n=e.selectedSlide,a=e.totalCardsOnSlide,i=e.onClick,o=e.onMouseDown,c=e.onMouseMove,s=e.onMouseUp,l=e.onTouchStart,u=e.onTouchMove,d=e.onTouchEnd;if(0===t.length)return null;var h=310*t.length,m=310*(n-1)*a,v={width:"".concat(h,"px"),transition:"transform ".concat(C,"ms ease-in-out 0s"),transform:"translate3d(-".concat(m,"px, 0px, 0px)")},f=1===n,p=t.length<a;return r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"slider__track",style:v,onMouseDown:o,onMouseMove:c,onMouseUp:s,onTouchStart:l,onTouchMove:u,onTouchEnd:d},t.map(function(e){return r.a.createElement(T,{key:e.id,data:e})})),r.a.createElement("div",{className:"slider__controls"},r.a.createElement("button",{"data-direction":"prev",className:"slider__btn",disabled:f,onClick:i},"Prev"),r.a.createElement("span",{className:"slider__current-page"},n),r.a.createElement("button",{"data-direction":"next",className:"slider__btn",disabled:p,onClick:i},"Next")))}),_="https://www.googleapis.com/youtube/v3",M="key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y",N=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"fetchVideosData",value:function(){var e=Object(l.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_,"/videos?").concat(M,"&part=snippet,statistics&id=").concat(t.join(",")),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchVideosId",value:function(){var e=Object(l.a)(s.a.mark(function e(t,n,a){var r,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?"&pageToken=".concat(n):"",i="".concat(_,"/search?").concat(M,"&type=video&part=id\n      &q=").concat(t,"&maxResults=").concat(a).concat(r).trim(),e.next=4,fetch(i);case 4:return o=e.sent,e.next=7,o.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),O=(n(22),new N),D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={history:[],searchText:"",alert:{text:"You haven't searched anything yet.",variant:""},isLoading:!1,maxVideoResults:16,nextPageToken:"",selectedSlide:1,totalCardsOnSlide:n.getTotalCardsOnSlide(),numberFirstCardOnSelectedSlide:1,isSliderAnimated:!1,mousePointsX:{start:null,end:null},videosData:[]},n.handleResizeWindow=function(e){var t=n.state,a=t.totalCardsOnSlide,r=t.numberFirstCardOnSelectedSlide,i=e.currentTarget.innerWidth,o=n.computeTotalCardsOnSlide(i);if(a===o)return!1;var c=Math.ceil(r/o);n.setState({selectedSlide:c,totalCardsOnSlide:o})},n.turnAnimatedOff=function(){setTimeout(function(){n.setState({isSliderAnimated:!1})},C)},n.changeSlide=function(e){var t=n.state.totalCardsOnSlide,a=n.state.selectedSlide;"next"===e?a+=1:a-=1;var r=t*(a-1)+1;n.setState({selectedSlide:a,numberFirstCardOnSelectedSlide:r,isSliderAnimated:!0},function(){n.isNeedToLoadCards()&&n.getVideosData()}),n.turnAnimatedOff()},n.isNeedToLoadCards=function(){var e=n.state,t=e.selectedSlide,a=e.videosData,r=e.totalCardsOnSlide;return t>=a.length/r-3},n.handleControlBtnClick=function(e){var t=e.target.dataset.direction;if(!n.canChangeSlide(t))return!1;n.changeSlide(t)},n.handleSearchTextChange=function(e){var t=e.target.value;n.setState({searchText:t})},n.handleSubmitForm=function(e){e.preventDefault();var t=n.state,a=t.history,r=t.searchText,i=a[a.length-1]||"";return""!==r&&(i!==r&&(a.push(r),n.setState({history:a,selectedSlide:1,videosData:[],alert:{text:"",variant:""},isLoading:!0}),void n.getVideosData()))},n.setAlertOption=function(e){n.setState({alert:{text:e,variant:"warning"},isLoading:!1})},n.setNextPageToken=function(e){n.setState({nextPageToken:e})},n.setVideosData=function(e){var t=n.state.videosData;n.setState({isLoading:!1,videosData:t.concat(e)})},n.setMousePointsX=function(e,t){n.setState({mousePointsX:{start:e,end:t}})},n.determineSwipeDirection=function(){var e=n.state.mousePointsX,t=e.start,a=e.end;if(!t||!a)return!1;var r=t-a;if(0===r)return!1;var i="left";return r<0&&(i="right"),i},n.canChangeSlide=function(e){var t=n.state,a=t.selectedSlide;return!t.isSliderAnimated&&("prev"!==e||1!==a)},n.swipeStart=function(e){n.setMousePointsX(e,null)},n.swipeMove=function(e){var t=n.state.mousePointsX.start;if(!t)return!1;n.setMousePointsX(t,e)},n.swipeEnd=function(){var e=n.determineSwipeDirection();if(!e)return!1;var t="next";if("right"===e&&(t="prev"),!n.canChangeSlide(t))return!1;n.changeSlide(t),n.setMousePointsX(null,null)},n.handleMouseDown=function(e){var t=e.clientX;n.swipeStart(t)},n.handleTouchStart=function(e){var t=e.touches[0].clientX;n.swipeStart(t)},n.handleMouseMove=function(e){var t=e.clientX;n.swipeMove(t)},n.handleTouchMove=function(e){var t=e.touches[0].clientX;n.swipeMove(t)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResizeWindow)}},{key:"getTotalCardsOnSlide",value:function(){var e=window.innerWidth;return this.computeTotalCardsOnSlide(e)}},{key:"computeTotalCardsOnSlide",value:function(e){return e>=1280?4:e>=940&&e<1280?3:e>=640&&e<940?2:1}},{key:"getVideosData",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getVideosId();case 3:return t=e.sent,e.next=6,O.fetchVideosData(t);case 6:n=e.sent,0===(a=n.items).length?("We are so sorry! We couldn't find any video for your request.",this.setAlertOption("We are so sorry! We couldn't find any video for your request.")):this.setVideosData(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),"Something was wrong! Check your network connection and try searching again.",this.setAlertOption("Something was wrong! Check your network connection and try searching again.");case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"getVideosId",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,n,a,r,i,o,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.searchText,a=t.nextPageToken,r=t.maxVideoResults,e.next=3,O.fetchVideosId(n,a,r);case 3:return i=e.sent,o=i.nextPageToken,c=i.items,l=c.map(function(e){return e.id.videoId}),this.setNextPageToken(o),e.abrupt("return",l);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchText,n=e.alert,a=e.isLoading,i=e.videosData,o=e.selectedSlide,c=e.totalCardsOnSlide,s=n.text,l=n.variant;return r.a.createElement("main",{className:"wrapper"},r.a.createElement(S,{searchText:t,onChange:this.handleSearchTextChange,onSubmit:this.handleSubmitForm}),0!==i.length&&r.a.createElement(k,{videosData:i,selectedSlide:o,totalCardsOnSlide:c,onClick:this.handleControlBtnClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.swipeEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.swipeEnd}),s&&r.a.createElement(y,{text:s,variant:l}),a&&r.a.createElement(x,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(23);o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.f8e9ab29.chunk.js.map